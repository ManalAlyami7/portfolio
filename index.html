<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manal Alyami - Data Scientist & AI Engineer Portfolio</title>
    <!-- Enhanced Favicon Configuration -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="48x48" href="images/favicon-48x48.png">
    <link rel="icon" type="image/png" sizes="64x64" href="images/favicon-64x64.png">
    <link rel="icon" type="image/png" sizes="128x128" href="images/favicon-128x128.png">
    <link rel="icon" type="image/png" sizes="256x256" href="images/favicon-256x256.png">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="images/favicon-128x128.png">
    <link rel="apple-touch-icon" sizes="152x152" href="images/favicon-128x128.png">
    <link rel="apple-touch-icon" sizes="120x120" href="images/favicon-64x64.png">
    <link rel="apple-touch-icon" sizes="76x76" href="images/favicon-48x48.png">
    
    <!-- Web App Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Performance optimizations -->
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    
    <!-- Font Awesome with enhanced error handling and tracking prevention mitigation -->
    <script>
        // Handle Font Awesome loading and tracking prevention
        function loadFontAwesome() {
            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css';
            link.integrity = 'sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==';
            link.crossOrigin = 'anonymous';
            link.referrerPolicy = 'no-referrer';
            
            link.onerror = function() {
                console.warn('‚ö†Ô∏è Font Awesome failed to load, using fallbacks');
                // Add fallback CSS for common icons
                const fallbackCSS = `
                    .fa-github:before { content: "GH"; }
                    .fa-linkedin:before { content: "LI"; }
                    .fa-envelope:before { content: "üìß"; }
                    .fa-download:before { content: "‚¨áÔ∏è"; }
                    .fa-external-link-alt:before { content: "‚ÜóÔ∏è"; }
                    .fa-moon:before { content: "üåô"; }
                    .fa-sun:before { content: "‚òÄÔ∏è"; }
                    .fa-award:before { content: "üèÜ"; }
                    .fa-trophy:before { content: "üèÖ"; }
                    .fa-building:before { content: "üè¢"; }
                    .fa-robot:before { content: "ü§ñ"; }
                    .fa-car:before { content: "üöó"; }
                    .fa-dumbbell:before { content: "üí™"; }
                    .fa-brain:before { content: "üß†"; }
                    .fa-book:before { content: "üìñ"; }
                    .fa-home:before { content: "üè†"; }
                    .fa-music:before { content: "üéµ"; }
                    .fa-cloud-sun:before { content: "‚òÄÔ∏è"; }
                    .fa-heartbeat:before { content: "‚ù§Ô∏è"; }
                    .fa-user-graduate:before { content: "üéì"; }
                    .fa-chart-line:before { content: "üìà"; }
                    .fa-code:before { content: "</>"; }
                    .fa-laptop-code:before { content: "üíª"; }
                    .fa-mobile-alt:before { content: "üì±"; }
                    .fa-database:before { content: "üóÑÔ∏è"; }
                    .fa-server:before { content: "üñ•Ô∏è"; }
                    .fa-shield-alt:before { content: "üõ°Ô∏è"; }
                    .fa-bug:before { content: "üêõ"; }
                    .fa-tools:before { content: "üõ†Ô∏è"; }
                    .fa-cogs:before { content: "‚öôÔ∏è"; }
                `;
                const style = document.createElement('style');
                style.textContent = fallbackCSS;
                document.head.appendChild(style);
            };
            
            link.onload = function() {
                console.log('‚úÖ Font Awesome loaded successfully');
            };
            
            document.head.appendChild(link);
        }
        
        // Load Font Awesome after DOM is ready to handle tracking prevention
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', loadFontAwesome);
        } else {
            loadFontAwesome();
        }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    
    <!-- Preload critical resources -->
    <link rel="preload" href="images/logo.png" as="image">
    <link rel="preload" href="images/banner.png" as="image">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer">
    
    <!-- Font loading optimization -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&family=Sora:wght@400;500;600;700&display=swap">
    <meta name="description" content="Manal Alyami is a Data Scientist and AI Engineer specializing in user-centered AI systems, Generative AI, and data-driven products. Published IEEE researcher with experience at Saudi Aramco.">
    <meta name="keywords" content="Data Scientist, AI Engineer, Generative AI, Machine Learning, UX AI, LangChain, Power BI, Python, Saudi Arabia">
    <meta name="author" content="Manal Alyami">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://manalalyami7.github.io/portfolio/">
    <meta property="og:title" content="Manal Alyami - Data Scientist & AI Engineer">
    <meta property="og:description" content="Data Scientist who speaks both Python and User Experience. Building AI that feels intuitive, not intimidating. IEEE ICOCO 2024 ‚Ä¢ 1st Place GenAI Bootcamp ‚Ä¢ Saudi Aramco">
    <meta property="og:image" content="https://manalalyami7.github.io/portfolio/images/og-image.jpg">
    <meta property="og:image:alt" content="Manal Alyami - Data Scientist & AI Engineer Portfolio">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    


    <!-- Canonical URL -->
    <link rel="canonical" href="https://manalalyami7.github.io/portfolio/">
    
    <!-- Sitemap -->
    <link rel="sitemap" type="application/xml" href="sitemap.xml">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    <meta name="theme-color" content="#2e5939">
    
    <!-- Anti-flicker script for dark mode -->
    <script>
    // Prevent dark mode flicker - runs before page renders
    (function() {
        const savedTheme = localStorage.getItem('theme') || 'light';
        const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const theme = (savedTheme === 'dark' || (savedTheme === 'auto' && systemPrefersDark)) ? 'dark' : 'light';
        document.documentElement.setAttribute('data-theme', theme);
    })();
    </script>
    
    <!-- GitHub Pages Compatibility with Comprehensive Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdnjs.cloudflare.com https://fonts.googleapis.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; img-src 'self' data: https: blob:; connect-src 'self' https://api.github.com; base-uri 'self'; form-action 'self'; upgrade-insecure-requests;">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Immediate error handling for loader issues -->
    <script>
        window.addEventListener('error', function(e) {
            if (e.filename && (e.filename.includes('github-pages-loader') || e.filename.includes('portfolio')) && 
                e.message && e.message.includes('Cannot read properties of undefined')) {
                console.warn('‚ö†Ô∏è Intercepted GitHub Pages loader error, continuing gracefully');
                e.preventDefault();
                return true;
            }
        });
    </script>
    
    <!-- External CSS - SRI hash already present (GOOD!) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <!-- NOTE FOR FUTURE: For production, consider adding SRI hashes for local CSS files as well -->
    <!-- Example format: <link rel="stylesheet" href="styles/global.css" integrity="sha384-...GENERATED_HASH..."> -->
    
    <!-- Critical CSS -->
    <link rel="stylesheet" href="styles/global.css?v=1.1">
    <link rel="stylesheet" href="styles/navigation.css?v=1.1">
    <link rel="stylesheet" href="styles/hero.css?v=1.1">
    
    <!-- Component CSS -->
    <link rel="stylesheet" href="styles/projects.css?v=1.1">
    <link rel="stylesheet" href="styles/contact.css?v=1.1">
    <link rel="stylesheet" href="styles/social-proof.css?v=1.1">
    <link rel="stylesheet" href="styles/footer.css?v=1.1">
    <link rel="stylesheet" href="styles/responsive.css?v=1.1">
</head>
<body>
    <!-- Accessibility: Skip to content link -->
    <a href="#main-content" class="skip-link sr-only">Skip to main content</a>
    <main id="main-content" tabindex="-1">
        <!-- Loading indicator -->
        <div id="loading-indicator" class="loading-overlay">
            <div class="loading-spinner">
                <div class="spinner"></div>
                <p id="loading-text">Loading portfolio...</p>
                <div class="loading-progress">
                    <div class="loading-bar" id="loading-bar"></div>
                </div>
            </div>
        </div>
        
        <!-- Components will be loaded here by JavaScript -->
        <div id="header-component"></div>
        <div id="hero-component"></div>
        <div id="about-component"></div>
        <div id="projects-component"></div>
        <div id="experience-component"></div>
        <div id="social-proof-component"></div>
        <div id="contact-component"></div>
    </main>
    <div id="footer-component"></div>
    

    
    <!-- Schema markup -->
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Person",
  "name": "Manal Alyami",
  "jobTitle": "Data Scientist & AI Engineer",
  "url": "https://manalalyami7.github.io/portfolio",
  "sameAs": [
    "https://www.linkedin.com/in/manal-alyami",
    "https://github.com/ManalAlyami7"
  ],
  "worksFor": {
    "@type": "Organization",
    "name": "Saudi Aramco"
  },
  "alumniOf": {
    "@type": "CollegeOrUniversity",
    "name": "King Saud University"
  }
}
</script>
    
    <script>
// Check if scripts exist before loading
function loadScriptSafely(src, callback) {
    const script = document.createElement('script');
    script.src = src;
    script.onload = callback;
    script.onerror = function() {
        console.warn(`Script not found: ${src}`);
        if (callback) callback();
    };
    document.head.appendChild(script);
}

// Load in order
loadScriptSafely('scripts/component-loader.js', function() {
    loadScriptSafely('scripts/main.js', function() {
        loadScriptSafely('scripts/animations.js');
    });
});
</script>
    
    <!-- NOTE FOR FUTURE: For production, consider adding SRI hashes for local JavaScript files as well -->
    <!-- Example format: <script src="scripts/main.js" integrity="sha384-...GENERATED_HASH..."> -->
    
    <script>
        // Dynamic component loader with comprehensive error handling and XSS protection
        async function loadComponent(componentName, targetElementId) {
            const targetElement = document.getElementById(targetElementId);
            
            // Show loading state
            if (targetElement) {
                targetElement.innerHTML = `
                    <div class="loading-placeholder">
                        <div class="placeholder-spinner"></div>
                        <p>Loading ${componentName}...</p>
                    </div>
                `;
            }
            
            try {
                const response = await fetch(`components/${componentName}.html`);
                
                if (response.ok) {
                    const html = await response.text();
                    if (targetElement) {
                        // Safer approach: Use DOMParser to parse HTML and sanitize
                        const parser = new DOMParser();
                        const doc = parser.parseFromString(html, 'text/html');
                        
                        // Clear the target element
                        targetElement.innerHTML = '';
                        
                        // Extract body content and append child nodes safely
                        const bodyContent = doc.body ? doc.body.childNodes : doc.childNodes;
                        
                        // Append each child node individually
                        for (let i = 0; i < bodyContent.length; i++) {
                            const node = bodyContent[i].cloneNode(true);
                            targetElement.appendChild(node);
                        }
                    }
                    return true; // Success
                } else {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
            } catch (error) {
                console.error(`Failed to load ${componentName}:`, error);
                
                // Show user-friendly error state
                if (targetElement) {
                    targetElement.innerHTML = `
                        <div class="error-state" role="alert">
                            <div class="error-icon">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <h3>Content temporarily unavailable</h3>
                            <p>Unable to load the ${componentName} section. This might be due to a network issue.</p>
                            <button class="btn btn-outline retry-button" onclick="retryLoadComponent('${componentName}', '${targetElementId}')">
                                <i class="fas fa-redo"></i> Try Again
                            </button>
                        </div>
                    `;
                }
                return false; // Failure
            }
        }
        
        // Retry function for failed components
        async function retryLoadComponent(componentName, targetElementId) {
            const targetElement = document.getElementById(targetElementId);
            if (targetElement) {
                targetElement.innerHTML = `
                    <div class="retry-loading">
                        <div class="spinner"></div>
                        <p>Retrying...</p>
                    </div>
                `;
            }
            
            // Wait a moment before retrying
            await new Promise(resolve => setTimeout(resolve, 500));
            
            const success = await loadComponent(componentName, targetElementId);
            
            if (!success) {
                // If retry fails, show a more persistent error
                const targetElement = document.getElementById(targetElementId);
                if (targetElement) {
                    targetElement.innerHTML = `
                        <div class="error-state persistent-error" role="alert">
                            <div class="error-icon">
                                <i class="fas fa-exclamation-circle"></i>
                            </div>
                            <h3>Still having trouble</h3>
                            <p>We're unable to load this content right now. Please try refreshing the page or come back later.</p>
                            <div class="error-details">
                                <small>Error: Component ${componentName} failed to load</small>
                            </div>
                        </div>
                    `;
                }
            }
        }
        
        // Load all components when DOM is ready
        document.addEventListener('DOMContentLoaded', async function() {
            const loadingIndicator = document.getElementById('loading-indicator');
            
            try {
                // Phase 1: Load critical above-the-fold components first (immediate render)
                const headerResult = await loadComponent('header', 'header-component');
                const heroResult = await loadComponent('hero', 'hero-component');
                
                // Hide loading indicator after critical components load
                if (loadingIndicator) {
                    loadingIndicator.style.opacity = '0';
                    setTimeout(() => {
                        loadingIndicator.style.display = 'none';
                    }, 300);
                }
                
                // Phase 2: Load essential content components in parallel
                const aboutResult = loadComponent('about', 'about-component');
                const projectsResult = loadComponent('projects', 'projects-component');
                
                // Phase 3: Load secondary components with lower priority
                const experienceResult = loadComponent('experience', 'experience-component');
                const socialProofResult = loadComponent('social-proof', 'social-proof-component');
                const contactResult = loadComponent('contact', 'contact-component');
                const footerResult = loadComponent('footer', 'footer-component');
                
                // Wait for essential components to load
                await Promise.all([aboutResult, projectsResult]);
                
                // Initialize functionality after essential components are loaded
                setTimeout(() => {
                    // Initialize dark mode functionality
                    initDarkMode();
                    
                    // Set current year in footer
                    const currentYearElement = document.getElementById('current-year');
                    if (currentYearElement) {
                        currentYearElement.textContent = new Date().getFullYear();
                    }
                    
                    // Set update date in footer
                    const updateDateElement = document.getElementById('update-date');
                    if (updateDateElement) {
                        const today = new Date();
                        const formattedDate = today.toLocaleDateString('en-US', { 
                            year: 'numeric', 
                            month: 'long', 
                            day: 'numeric' 
                        });
                        updateDateElement.textContent = formattedDate;
                    }
                }, 100);
                
                // Load secondary components and handle errors gracefully
                Promise.allSettled([experienceResult, socialProofResult, contactResult, footerResult]).then(results => {
                    results.forEach((result, index) => {
                        if (result.status === 'rejected') {
                            console.warn(`Component load failed - Index ${index}:`, result.reason);
                        }
                    });
                });
                
            } catch (error) {
                console.error('Critical component loading failed:', error);
                // Hide loading indicator even on error
                if (loadingIndicator) {
                    loadingIndicator.style.display = 'none';
                }
                
                // Show user-friendly error message
                const mainContent = document.getElementById('main-content');
                if (mainContent) {
                    mainContent.innerHTML = `
                        <div class="critical-error-state" style="padding: 2rem; text-align: center;">
                            <h2>Something went wrong</h2>
                            <p>We couldn't load the content for this page. Please refresh to try again.</p>
                            <button onclick="location.reload()" class="btn btn-primary">Refresh Page</button>
                        </div>
                    `;
                }
            }
        });
        


    </script>



</body>
</html>