<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manal Alyami - Data Scientist & AI Engineer Portfolio</title>
    <!-- Enhanced Favicon Configuration -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="48x48" href="images/favicon-48x48.png">
    <link rel="icon" type="image/png" sizes="64x64" href="images/favicon-64x64.png">
    <link rel="icon" type="image/png" sizes="128x128" href="images/favicon-128x128.png">
    <link rel="icon" type="image/png" sizes="256x256" href="images/favicon-256x256.png">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="images/favicon-128x128.png">
    <link rel="apple-touch-icon" sizes="152x152" href="images/favicon-128x128.png">
    <link rel="apple-touch-icon" sizes="120x120" href="images/favicon-64x64.png">
    <link rel="apple-touch-icon" sizes="76x76" href="images/favicon-48x48.png">
    
    <!-- Web App Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Performance optimizations -->
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    
    <!-- Font Awesome with error handling -->
    <script>
        // Handle Font Awesome loading errors
        window.addEventListener('error', function(e) {
            if (e.target.tagName === 'LINK' && e.target.href && e.target.href.includes('font-awesome')) {
                console.warn('‚ö†Ô∏è Font Awesome failed to load, using fallbacks');
                // Add fallback CSS for common icons
                const fallbackCSS = `
                    .fa-github:before { content: "GH"; }
                    .fa-linkedin:before { content: "LI"; }
                    .fa-envelope:before { content: "üìß"; }
                    .fa-download:before { content: "‚¨áÔ∏è"; }
                    .fa-external-link-alt:before { content: "‚ÜóÔ∏è"; }
                `;
                const style = document.createElement('style');
                style.textContent = fallbackCSS;
                document.head.appendChild(style);
            }
        });
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    
    <!-- Preload critical resources -->
    <link rel="preload" href="images/logo.png" as="image">
    <link rel="preload" href="images/banner.png" as="image">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer">
    
    <!-- Font loading optimization -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&family=Sora:wght@400;500;600;700&display=swap">
    <meta name="description" content="Manal Alyami is a Data Scientist and AI Engineer specializing in user-centered AI systems, Generative AI, and data-driven products. Published IEEE researcher with experience at Saudi Aramco.">
    <meta name="keywords" content="Data Scientist, AI Engineer, Generative AI, Machine Learning, UX AI, LangChain, Power BI, Python, Saudi Arabia">
    <meta name="author" content="Manal Alyami">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://manalalyami7.github.io/portfolio/">
    <meta property="og:title" content="Manal Alyami - Data Scientist & AI Engineer">
    <meta property="og:description" content="Data Scientist who speaks both Python and User Experience. Building AI that feels intuitive, not intimidating. IEEE ICOCO 2024 ‚Ä¢ 1st Place GenAI Bootcamp ‚Ä¢ Saudi Aramco">
    <meta property="og:image" content="https://manalalyami7.github.io/portfolio/images/og-image.jpg">
    <meta property="og:image:alt" content="Manal Alyami - Data Scientist & AI Engineer Portfolio">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    


    <!-- Canonical URL -->
    <link rel="canonical" href="https://manalalyami7.github.io/portfolio/">
    
    <!-- Sitemap -->
    <link rel="sitemap" type="application/xml" href="sitemap.xml">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    <meta name="theme-color" content="#2e5939">
    
    <!-- GitHub Pages Compatibility -->
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Immediate error handling for loader issues -->
    <script>
        window.addEventListener('error', function(e) {
            if (e.filename && (e.filename.includes('github-pages-loader') || e.filename.includes('portfolio')) && 
                e.message && e.message.includes('Cannot read properties of undefined')) {
                console.warn('‚ö†Ô∏è Intercepted GitHub Pages loader error, continuing gracefully');
                e.preventDefault();
                return true;
            }
        });
    </script>
    
    <!-- External CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <!-- Critical CSS -->
    <link rel="stylesheet" href="styles/global.css?v=1.1">
    <link rel="stylesheet" href="styles/navigation.css?v=1.1">
    <link rel="stylesheet" href="styles/hero.css?v=1.1">
    
    <!-- Component CSS -->
    <link rel="stylesheet" href="styles/projects.css?v=1.1">
    <link rel="stylesheet" href="styles/contact.css?v=1.1">
    <link rel="stylesheet" href="styles/social-proof.css?v=1.1">
    <link rel="stylesheet" href="styles/footer.css?v=1.1">
    <link rel="stylesheet" href="styles/responsive.css?v=1.1">
</head>
<body>
    <a href="#home" class="skip-link">Skip to content</a>
    <main>
        <!-- Loading indicator -->
        <div id="loading-indicator" class="loading-overlay">
            <div class="loading-spinner">
                <div class="spinner"></div>
                <p>Loading portfolio...</p>
            </div>
        </div>
        
        <!-- Components will be loaded here by JavaScript -->
        <div id="header-component"></div>
        <div id="hero-component"></div>
        <div id="about-component"></div>
        <div id="projects-component"></div>
        <div id="experience-component"></div>
        <div id="social-proof-component"></div>
        <div id="contact-component"></div>
    </main>
    <div id="footer-component"></div>
    

    
    <!-- Schema markup -->
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Person",
  "name": "Manal Alyami",
  "jobTitle": "Data Scientist & AI Engineer",
  "url": "https://manalalyami7.github.io/portfolio",
  "sameAs": [
    "https://www.linkedin.com/in/manal-alyami",
    "https://github.com/ManalAlyami7"
  ],
  "worksFor": {
    "@type": "Organization",
    "name": "Saudi Aramco"
  },
  "alumniOf": {
    "@type": "CollegeOrUniversity",
    "name": "King Saud University"
  }
}
</script>
    
    <!-- GitHub Pages Debug Helper -->
    <script src="scripts/github-debug.js"></script>
    
    <!-- GitHub Pages Compatible Script Loader -->
    <script src="scripts/github-pages-loader-enhanced.js?v=1.1"></script>
    
    <script>
        // Dynamic component loader with comprehensive error handling
        async function loadComponent(componentName, targetElementId) {
            const targetElement = document.getElementById(targetElementId);
            
            // Show loading state
            if (targetElement) {
                targetElement.innerHTML = `
                    <div class="loading-placeholder">
                        <div class="placeholder-spinner"></div>
                        <p>Loading ${componentName}...</p>
                    </div>
                `;
            }
            
            try {
                const response = await fetch(`components/${componentName}.html`);
                
                if (response.ok) {
                    const html = await response.text();
                    if (targetElement) {
                        targetElement.innerHTML = html;
                    }
                    return true; // Success
                } else {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
            } catch (error) {
                console.error(`Failed to load ${componentName}:`, error);
                
                // Show user-friendly error state
                if (targetElement) {
                    targetElement.innerHTML = `
                        <div class="error-state" role="alert">
                            <div class="error-icon">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <h3>Content temporarily unavailable</h3>
                            <p>Unable to load the ${componentName} section. This might be due to a network issue.</p>
                            <button class="btn btn-outline retry-button" onclick="retryLoadComponent('${componentName}', '${targetElementId}')">
                                <i class="fas fa-redo"></i> Try Again
                            </button>
                        </div>
                    `;
                }
                return false; // Failure
            }
        }
        
        // Retry function for failed components
        async function retryLoadComponent(componentName, targetElementId) {
            const targetElement = document.getElementById(targetElementId);
            if (targetElement) {
                targetElement.innerHTML = `
                    <div class="retry-loading">
                        <div class="spinner"></div>
                        <p>Retrying...</p>
                    </div>
                `;
            }
            
            // Wait a moment before retrying
            await new Promise(resolve => setTimeout(resolve, 500));
            
            const success = await loadComponent(componentName, targetElementId);
            
            if (!success) {
                // If retry fails, show a more persistent error
                const targetElement = document.getElementById(targetElementId);
                if (targetElement) {
                    targetElement.innerHTML = `
                        <div class="error-state persistent-error" role="alert">
                            <div class="error-icon">
                                <i class="fas fa-exclamation-circle"></i>
                            </div>
                            <h3>Still having trouble</h3>
                            <p>We're unable to load this content right now. Please try refreshing the page or come back later.</p>
                            <div class="error-details">
                                <small>Error: Component ${componentName} failed to load</small>
                            </div>
                        </div>
                    `;
                }
            }
        }
        
        // Load all components when DOM is ready
        document.addEventListener('DOMContentLoaded', async function() {
            const loadingIndicator = document.getElementById('loading-indicator');
            
            try {
                // Phase 1: Load critical above-the-fold components first (immediate render)
                await Promise.all([
                    loadComponent('header', 'header-component'),
                    loadComponent('hero', 'hero-component')
                ]);
                
                // Hide loading indicator after critical components load
                if (loadingIndicator) {
                    loadingIndicator.style.opacity = '0';
                    setTimeout(() => {
                        loadingIndicator.style.display = 'none';
                    }, 300);
                }
                
                // Phase 2: Load essential content components in parallel
                const essentialComponents = Promise.all([
                    loadComponent('about', 'about-component'),
                    loadComponent('projects', 'projects-component')
                ]);
                
                // Phase 3: Load secondary components with lower priority (fire and forget)
                const secondaryComponents = Promise.allSettled([
                    loadComponent('experience', 'experience-component'),
                    loadComponent('social-proof', 'social-proof-component'),
                    loadComponent('contact', 'contact-component'),
                    loadComponent('footer', 'footer-component')
                ]);
                
                // Initialize functionality after essential components are loaded
                essentialComponents.then(() => {
                    setTimeout(() => {
                        // Initialize social proof expand functionality
                        initSocialProofExpand();
                        
                        // Initialize show more projects functionality
                        initShowMoreProjects();
                        
                        // Initialize dark mode functionality
                        initDarkMode();
                        
                        // Set current year in footer
                        const currentYearElement = document.getElementById('current-year');
                        if (currentYearElement) {
                            currentYearElement.textContent = new Date().getFullYear();
                        }
                        
                        // Set update date in footer
                        const updateDateElement = document.getElementById('update-date');
                        if (updateDateElement) {
                            const today = new Date();
                            const formattedDate = today.toLocaleDateString('en-US', { 
                                year: 'numeric', 
                                month: 'long', 
                                day: 'numeric' 
                            });
                            updateDateElement.textContent = formattedDate;
                        }
                    }, 100);
                });
                
                // Handle any loading errors gracefully
                secondaryComponents.catch(error => {
                    console.warn('Non-critical component loading failed:', error);
                });
                
            } catch (error) {
                console.error('Critical component loading failed:', error);
                // Hide loading indicator even on error
                if (loadingIndicator) {
                    loadingIndicator.style.display = 'none';
                }
            }
        });
        
        function initSocialProofExpand() {
            const seeMoreButtons = document.querySelectorAll('.see-more-btn');
            
            seeMoreButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const card = this.closest('.recommendation-card');
                    const previewQuote = card.querySelector('.preview-quote');
                    const fullQuote = card.querySelector('.full-quote');
                    
                    if (fullQuote && fullQuote.style.display === 'none') {
                        // Expand the quote
                        if (previewQuote) {
                            previewQuote.style.display = 'none';
                        }
                        fullQuote.style.display = 'block';
                        this.textContent = 'Show less';
                    } else {
                        // Collapse the quote
                        if (fullQuote) {
                            fullQuote.style.display = 'none';
                        }
                        if (previewQuote) {
                            previewQuote.style.display = 'block';
                        }
                        this.textContent = 'Read more';
                    }
                });
            });
        }
        
        // Initialize dark mode functionality
        function initDarkMode() {
            const themeToggle = document.getElementById('theme-toggle');
            const themeIcon = document.getElementById('theme-icon');
            
            if (!themeToggle || !themeIcon) {
                console.warn('‚ö†Ô∏è Dark mode elements not found, retrying in 100ms...');
                setTimeout(initDarkMode, 100);
                return;
            }
            
            console.log('üåô Initializing dark mode functionality');
            
            // Check for saved theme preference
            const savedTheme = localStorage.getItem('theme') || 'light';
            const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            // Apply initial theme
            const initialTheme = (savedTheme === 'dark' || (savedTheme === 'auto' && systemPrefersDark)) ? 'dark' : 'light';
            applyTheme(initialTheme);
            
            // Add event listener
            themeToggle.addEventListener('click', function() {
                const currentTheme = document.documentElement.getAttribute('data-theme');
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                
                applyTheme(newTheme);
                localStorage.setItem('theme', newTheme);
                
                // Add visual feedback
                this.style.transform = 'rotate(30deg) scale(1.1)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 300);
                
                console.log('üåô Theme toggled to:', newTheme);
            });
            
            // Listen for system theme changes
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
                if (localStorage.getItem('theme') === 'auto') {
                    applyTheme(e.matches ? 'dark' : 'light');
                }
            });
            
            function applyTheme(theme) {
                document.documentElement.setAttribute('data-theme', theme);
                
                if (theme === 'dark') {
                    themeIcon.classList.remove('fa-moon');
                    themeIcon.classList.add('fa-sun');
                    themeIcon.title = 'Switch to light mode';
                } else {
                    themeIcon.classList.remove('fa-sun');
                    themeIcon.classList.add('fa-moon');
                    themeIcon.title = 'Switch to dark mode';
                }
                
                // Dispatch custom event
                window.dispatchEvent(new CustomEvent('themechange', { detail: { theme } }));
            }
            
            console.log('‚úÖ Dark mode initialized successfully');
        }
        
        // Initialize show more projects functionality
        function initShowMoreProjects() {
            const showMoreBtn = document.getElementById('show-more-btn');
            const projectsGrid = document.getElementById('projects-grid');
            if (!projectsGrid) return;
            
            const allProjects = projectsGrid.querySelectorAll('.project-card:not(.featured)');
            
            // Initially hide non-featured projects
            allProjects.forEach(project => {
                project.style.display = 'none';
            });
            
            if (showMoreBtn) {
                showMoreBtn.addEventListener('click', function() {
                    const hiddenProjects = Array.from(projectsGrid.querySelectorAll('.project-card')).filter(card => 
                        card.style.display === 'none' || 
                        getComputedStyle(card).display === 'none'
                    );
                    
                    if (hiddenProjects.length > 0) {
                        // Show all hidden projects
                        Array.from(hiddenProjects).forEach(project => {
                            project.style.display = 'flex';
                            // Trigger reflow to ensure proper display
                            project.offsetHeight;
                        });
                        
                        this.textContent = 'Show Less';
                    } else {
                        // Hide non-featured projects again
                        allProjects.forEach(project => {
                            project.style.display = 'none';
                        });
                        
                        this.textContent = 'Show More Projects';
                    }
                });
            }
        }
    </script>


    <!-- Fallback for critical functionality -->
    <script>
        // Manual initialization fallback
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üîÑ Manual initialization fallback triggered');
            
            // Dark mode fallback
            const themeToggle = document.getElementById('theme-toggle');
            const themeIcon = document.getElementById('theme-icon');
            if (themeToggle && themeIcon) {
                themeToggle.addEventListener('click', function() {
                    const currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
                    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                    document.documentElement.setAttribute('data-theme', newTheme);
                    
                    if (newTheme === 'dark') {
                        themeIcon.classList.remove('fa-moon');
                        themeIcon.classList.add('fa-sun');
                    } else {
                        themeIcon.classList.remove('fa-sun');
                        themeIcon.classList.add('fa-moon');
                    }
                    
                    console.log('üåô Manual dark mode toggle:', newTheme);
                });
            }
            
            // Projects filter fallback
            const filterButtons = document.querySelectorAll('.filter-btn');
            const projectCards = document.querySelectorAll('.project-card');
            if (filterButtons.length > 0 && projectCards.length > 0) {
                filterButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        filterButtons.forEach(btn => btn.classList.remove('active'));
                        button.classList.add('active');
                        
                        const filter = button.dataset.filter;
                        projectCards.forEach(card => {
                            if (filter === 'all' || card.dataset.category === filter) {
                                card.classList.remove('hidden');
                                card.style.display = 'flex';
                            } else {
                                card.classList.add('hidden');
                                card.style.display = 'none';
                            }
                        });
                        console.log('üéØ Manual filter applied:', filter);
                    });
                });
            }
            
            // Social proof fallback
            const seeMoreButtons = document.querySelectorAll('.see-more-btn');
            if (seeMoreButtons.length > 0) {
                seeMoreButtons.forEach(button => {
                    button.addEventListener('click', function() {
                        const card = this.closest('.recommendation-card');
                        const truncatedText = card.querySelector('.truncated-text');
                        const fullText = card.querySelector('.full-text');
                        
                        if (truncatedText && fullText) {
                            const isExpanded = truncatedText.style.display === 'none';
                            if (isExpanded) {
                                truncatedText.style.display = 'block';
                                fullText.style.display = 'none';
                                this.textContent = 'See more...';
                            } else {
                                truncatedText.style.display = 'none';
                                fullText.style.display = 'block';
                                this.textContent = 'Show less';
                            }
                            console.log('üë• Manual social proof toggle');
                        }
                    });
                });
            }
            
            console.log('‚úÖ Manual initialization completed');
        });
    </script>
</body>
</html>